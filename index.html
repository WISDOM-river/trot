<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ã‚¿ãƒ­ãƒƒãƒˆå ã„</title>
  <style>
    :root{ --border:#ddd; --bg:#fafafa; --ink:#111; --muted:#666; }
    body{
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
      margin:0; color:var(--ink); background:#fff;
    }
    .wrap{ max-width: 820px; margin:0 auto; padding:16px; }
    h1{ font-size:22px; margin:0 0 12px; }
    .card{ border:1px solid var(--border); border-radius: 12px; padding: 14px; background: var(--bg); }

    .topRow{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap: wrap;
    }

    button{
      padding: 10px 14px;
      border: 1px solid #bbb;
      border-radius: 10px;
      background: #fff;
      cursor: pointer;
      font-size: 15px;
      white-space: nowrap;
    }
    button:hover{ background:#f2f2f2; }

    .deckStatus{
      font-size: 14px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background:#fff;
    }

    .meta{
      font-size: 12px;
      color: var(--muted);
      margin-top: 10px;
      line-height: 1.7;
    }

    /* æ¨ªä¸¦ã³å…¥åŠ› */
    .inputs{ margin-top:12px; display:grid; gap:10px; }
    .inputRow{ display:grid; gap:10px; grid-template-columns: 1fr; }
    @media (min-width: 640px){
      .inputRow{ grid-template-columns: 1fr 1fr 1fr; }
    }
    label{ font-size: 13px; color:#444; display:block; margin-bottom: 4px; }
    input[type="number"]{
      width:100%;
      padding: 10px;
      border: 1px solid var(--border);
      border-radius: 10px;
      font-size: 16px;
      background:#fff;
      box-sizing: border-box;
    }

    .section{ margin-top: 14px; }
    .section h2{
      font-size: 14px;
      margin: 0 0 8px;
      color:#333;
      letter-spacing: .04em;
    }
    .resultBox{
      border:1px solid var(--border);
      border-radius: 12px;
      background:#fff;
      padding: 12px;
      line-height: 1.8;
      font-size: 15px;
      white-space: pre-wrap;
    }

    textarea{
      width: 100%;
      resize: vertical;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 12px;
      font-size: 14px;
      background:#fff;
      box-sizing: border-box;
      line-height: 1.7;
    }
    #info{ min-height: 280px; }

    .headRow{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap:10px;
      margin-bottom: 8px;
      flex-wrap: wrap;
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.85);
      color:#fff;
      padding: 10px 12px;
      border-radius: 12px;
      font-size: 13px;
      opacity: 0;
      pointer-events: none;
      transition: opacity .18s ease;
    }
    .toast.show{ opacity: 1; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ã‚¿ãƒ­ãƒƒãƒˆå ã„</h1>

    <div class="card">
      <!-- ä¸Šéƒ¨ï¼šã‚·ãƒ£ãƒƒãƒ•ãƒ«ï½œå±±æœ­çŠ¶æ…‹ï½œãƒªã‚»ãƒƒãƒˆ -->
      <div class="topRow">
        <button id="shuffleBtn">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
        <div id="deckStatus" class="deckStatus">å±±æœ­ï¼šæœªã‚·ãƒ£ãƒƒãƒ•ãƒ«</div>
        <button id="resetBtn">â†©ï¸ ãƒªã‚»ãƒƒãƒˆ</button>
      </div>

      <div class="meta">
        ãƒ»ç•ªå·ã¯ <b>1ã€œ156</b>ï¼ˆ78æšÃ—æ­£ä½ç½®/é€†ä½ç½®ï¼‰<br/>
        ãƒ»1æšå¼•ãã¯ã€Œç•ªå·2ãƒ»ç•ªå·3ã€ã‚’ç©ºæ¬„ï¼ˆã¾ãŸã¯0ï¼‰ã§OK
      </div>

      <div class="inputs">
        <div class="inputRow">
          <div>
            <label for="n1">ç•ªå·1</label>
            <input id="n1" type="number" min="0" max="156" />
          </div>
          <div>
            <label for="n2">ç•ªå·2</label>
            <input id="n2" type="number" min="0" max="156" />
          </div>
          <div>
            <label for="n3">ç•ªå·3</label>
            <input id="n3" type="number" min="0" max="156" />
          </div>
        </div>

        <div>
          <button id="openBtn">ğŸƒ ã‚ªãƒ¼ãƒ—ãƒ³</button>
        </div>
      </div>

      <div class="section">
        <h2>RESULT</h2>
        <div id="resultBox" class="resultBox">ï¼ˆã¾ã ã§ã™ï¼‰</div>
      </div>

      <div class="section">
        <div class="headRow">
          <h2 style="margin:0;">ã‚¤ãƒ³ãƒ•ã‚©ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç·¨é›†OKï¼‰</h2>
          <button id="copyInfoBtn">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
        </div>
        <textarea id="info"></textarea>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆ</div>

  <script>
    // --- ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ ---
    const major = [
      "æ„šè€…","é­”è¡“å¸«","å¥³æ•™çš‡","å¥³å¸","çš‡å¸","æ•™çš‡","æ‹äºº","æˆ¦è»Š","åŠ›","éš è€…","é‹å‘½ã®è¼ª",
      "æ­£ç¾©","åŠã‚‹ã•ã‚ŒãŸç”·","æ­»ç¥","ç¯€åˆ¶","æ‚ªé­”","å¡”","æ˜Ÿ","æœˆ","å¤ªé™½","å¯©åˆ¤","ä¸–ç•Œ"
    ];
    const suits = ["ãƒ¯ãƒ³ãƒ‰","ã‚«ãƒƒãƒ—","ã‚½ãƒ¼ãƒ‰","ãƒšãƒ³ã‚¿ã‚¯ãƒ«"];
    const ranks = ["ã‚¨ãƒ¼ã‚¹","2","3","4","5","6","7","8","9","10","ãƒšã‚¤ã‚¸","ãƒŠã‚¤ãƒˆ","ã‚¯ã‚¤ãƒ¼ãƒ³","ã‚­ãƒ³ã‚°"];

    function build156(){
      const cards=[];
      for(const m of major){
        cards.push({name:m,pos:"æ­£ä½ç½®"},{name:m,pos:"é€†ä½ç½®"});
      }
      for(const s of suits){
        for(const r of ranks){
          const n=`${s}ã®${r}`;
          cards.push({name:n,pos:"æ­£ä½ç½®"},{name:n,pos:"é€†ä½ç½®"});
        }
      }
      return cards;
    }

    function shuffle(a){
      for(let i=a.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
    }

    const originalDeck = build156();
    let deck = [...originalDeck];
    let shuffled = false;

    const $ = id => document.getElementById(id);
    const deckStatus = $("deckStatus");
    const resultBox = $("resultBox");
    const info = $("info");
    const toast = $("toast");

    function updateDeckStatus(){
      deckStatus.textContent = `å±±æœ­ï¼š${shuffled ? "ã‚·ãƒ£ãƒƒãƒ•ãƒ«æ¸ˆ" : "æœªã‚·ãƒ£ãƒƒãƒ•ãƒ«"}`;
    }

    function clearNums(){
      $("n1").value = $("n2").value = $("n3").value = "";
    }

    function openCards(){
      const nums = [$("n1").value,$("n2").value,$("n3").value]
        .map(v=>Number(v)||0).filter(n=>n>0);
      if(nums.length===0){
        resultBox.textContent = "ç•ªå·1ã¯å¿…é ˆ";
        return;
      }
      const picked = nums.map((n,i)=>`ã‚«ãƒ¼ãƒ‰${i+1}ï¼š${deck[n-1].name}ï¼ˆ${deck[n-1].pos}ï¼‰`);
      const resultText = picked.join("\n");
      resultBox.textContent = resultText;
      info.value = `${resultText}\n\nâ—¾ï¸ä¸Šã®ã‚«ãƒ¼ãƒ‰ã§å ã£ã¦\nãƒ»æ˜æ—¥ã®é‹å‹¢\nãƒ»ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ \nãƒ»ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚º\nãƒ»é‡‘é‹\nãƒ»é€²ã‚€ï¼æ­¢ã¾ã‚‹ã€€ã©ã£ã¡ï¼Ÿ\nãƒ»ç·åˆç‚¹ã€€â˜…10å€‹ä¸­ä½•å€‹ï¼Ÿ`;
    }

    $("shuffleBtn").onclick = ()=>{
      deck=[...originalDeck];
      shuffle(deck);
      shuffled=true;
      updateDeckStatus();
      resultBox.textContent="ï¼ˆã¾ã ã§ã™ï¼‰";
      info.value="";
    };

    $("resetBtn").onclick = ()=>{
      deck=[...originalDeck];
      shuffled=false;
      clearNums();
      updateDeckStatus();
      resultBox.textContent="ï¼ˆã¾ã ã§ã™ï¼‰";
      info.value="";
    };

    $("openBtn").onclick = openCards;

    $("copyInfoBtn").onclick = ()=>{
      if(!info.value.trim()) return;
      navigator.clipboard.writeText(info.value).then(()=>{
        toast.classList.add("show");
        setTimeout(()=>toast.classList.remove("show"),900);
      });
    };

    updateDeckStatus();
  </script>
</body>
</html>
